var marqdoujAzureMaps;(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Controls:()=>x,Events:()=>V,Features:()=>w,Geolocation:()=>J,Layers:()=>U,MapFactory:()=>H,Maps:()=>z,Markers:()=>j,Popups:()=>W,Sources:()=>O});const a=atlas;var o,n,r,s,i,l,d,p,c,u,v,g,y,m,h,f,M,E,I,b=e.n(a);!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(o||(o={}));class k{static currentLevel=o.Information;static GetMapHeader(e){return`Map with Id '${e}'`}static logMessage(e,t,a,...n){if(t<this.currentLevel)return;const r=`${this.GetMapHeader(e)} ${a}`;switch(t){case o.Trace:console.trace(r,...n);break;case o.Debug:console.debug(r,...n);break;case o.Information:console.info(r,...n);break;case o.Warn:console.warn(r,...n);break;case o.Error:console.error(r,...n);break;case o.Critical:console.error(`CRITICAL: ${r}`,...n)}}}class S{#e=new Map;mapId;constructor(e){this.mapId=e}addCallback(e,t){const a=this.#t(e);this.#e.has(a)||(this.#e.set(a,t),k.logMessage(this.mapId,o.Trace,"EventsMap-addCallback:",a))}getCallback(e,t){const a=this.#t(e);if(this.#e.has(a)){const e=this.#e.get(a);if(t){const e=this.#e.delete(a);k.logMessage(this.mapId,o.Trace,"EventsMap-removeCallback:",a,e)}return e}}#t(e){return`${e.target}.${e.type}.${e.targetId}`}clear(){this.#e.clear()}}class C{#a;#e;#o;#n;constructor(e,t,a){this.#a=e,this.#n=t,this.#o=a,this.#e=new S(t)}get dotNetRef(){return this.#a}get eventsMap(){return this.#e}get mapId(){return this.#n}get map(){return this.#o}clear(){this.#a=null,this.#n=null,this.#o=null,this.#e.clear()}}class N{static isEmptyOrNull(e){return null==e||""===e.trim()}static isNotEmptyOrNull(e){return!this.isEmptyOrNull(e)}static isValueInEnum(e,t){return Object.values(e).includes(t)}static isJsInteropDef(e){return e&&null!=e.jsInterop&&null!=e.jsInterop.interopId}static getJsInterop(e){if(this.isJsInteropDef(e))return e.jsInterop}static isFeature(e){return e&&"Feature"===e.type}static isShape(e){return e&&null!=e.getType}static getFeatureResult(e){return{jsInterop:this.getJsInterop(e),id:e.id?.toString(),type:e.geometry.type,bbox:e.bbox,source:"feature",properties:e.properties}}static getShapeResult(e){return{jsInterop:this.getJsInterop(e),id:e.getId()?.toString(),type:e.getType(),bbox:e.getBounds(),source:"shape",properties:e.getProperties()}}static buildShapeResults(e){const t=[];return e.filter(e=>this.isFeature(e)).forEach(e=>{t.push(this.getFeatureResult(e))}),e.filter(e=>this.isShape(e)).forEach(e=>{t.push(this.getShapeResult(e))}),t}static isInteropControl(e,t){let a=this.isJsInteropDef(e);return a&&N.isNotEmptyOrNull(t)&&(a=e.jsInterop.id===t||e.jsInterop.interopId===t),a}static isInteropLayer(e,t){let a=this.isJsInteropDef(e);return a&&N.isNotEmptyOrNull(t)&&(a=e.jsInterop.id===t||e.jsInterop.interopId===t),a}}class D{static logEventAdd(e,t,a,n){a?k.logMessage(e,o.Trace,`${t}: event added:`,n):k.logMessage(e,o.Error,`${t}: event not supported:`,n)}static logEventRemoved(e,t,a,n){a?k.logMessage(e,o.Trace,`${t}: event removed:`,n):k.logMessage(e,o.Error,`${t}: event not supported:`,n)}static logInvalidTargetId(e,t,a){k.logMessage(e,o.Error,`${t}: 'once' is not supported:`,a),k.logMessage(e,o.Error,`${t}: invalid TargetId.`,a)}static logOnceNotSupported(e,t,a){k.logMessage(e,o.Error,`${t}: 'once' is not supported:`,a)}static logNotifyFired(e,t,...a){k.logMessage(e,o.Trace,`${t}: event was fired.`,a)}static logMessage(e,t,a,...o){k.logMessage(e,t,a,o)}}class R{static buildEventResult(e,t,a){return{mapId:e,type:t.type,target:t.target,payload:{targetId:t.targetId,...a}}}static buildShapeResults(e){const t=[];return e.filter(e=>N.isFeature(e)).forEach(e=>{t.push(N.getFeatureResult(e))}),e.filter(e=>N.isShape(e)).forEach(e=>{t.push(N.getShapeResult(e))}),t}static buildDataSourcePayload(e){return{id:e.getId(),jsInterop:N.getJsInterop(e)}}static buildLayerPayload(e){return{id:e.getId(),jsInterop:N.getJsInterop(e)}}static buildMouseEventPayload(e){return{mouse:{layerId:e.layerId,pixel:e.pixel,position:e.position,shapes:this.buildShapeResults(e.shapes)}}}static buildTargetedEventPayload(e){return{jsInterop:e.target.jsInterop,type:e.type}}static buildTouchEventPayload(e){return{pixel:e.pixel,pixels:e.pixels,position:e.position,positions:e.positions,layerId:e.layerId,shapes:this.buildShapeResults(e.shapes)}}static buildWheelEventPayload(e){return{type:e.type}}}class T{add(e,t,a){0!=t.length&&this.#r(e,this.#s(t),a)}remove(e,t,a){0!=t.length&&this.#i(e,this.#s(t),a)}#s(e){return Object.values(e).filter(e=>"layer"===e.target&&N.isValueInEnum(n,e.type))}#r(e,t,a){if(0==t.length)return;const o="addLayerEvents",n=e.map;t.forEach(t=>{let r=!1;const s=a??this.#l(n,t);if(a&&(t.targetId=a.getId()),!s)return void D.logInvalidTargetId(e.mapId,o,t);const i=this.#d(e,t,!1);i&&s&&(t.once?n.events.addOnce(t.type,s,i):n.events.add(t.type,s,i),r=!0),D.logEventAdd(e.mapId,o,r,t)})}#i(e,t,a){if(0==t.length)return;const o="removeLayerEvents",n=e.map;t.forEach(t=>{let r=!1;const s=a??this.#l(n,t);if(a&&(t.targetId=a.getId()),!s)return void D.logInvalidTargetId(e.mapId,o,t);const i=this.#d(e,t,!0);i&&(s?(n.events.remove(t.type,s,i),r=!0):D.logInvalidTargetId(e.mapId,o,t)),D.logEventRemoved(e.mapId,o,r,t)})}#l(e,t){if("layer"===t.target)return e.layers.getLayerById(t.targetId)}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);if(o)return o;switch(t.type){case n.LayerAdded:case n.LayerRemoved:o=a=>this.#p(a,e,t);break;case n.Click:case n.ContextMenu:case n.DblClick:case n.MouseDown:case n.MouseEnter:case n.MouseLeave:case n.MouseMove:case n.MouseOut:case n.MouseOver:case n.MouseUp:o=a=>this.#c(a,e,t);break;case n.TouchCancel:case n.TouchEnd:case n.TouchMove:case n.TouchStart:o=o=a=>this.#u(a,e,t);break;case n.Wheel:o=a=>this.#v(a,e,t)}return e.eventsMap.addCallback(t,o),o}#p=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,R.buildLayerPayload(e));t.dotNetRef.invokeMethodAsync(h.NotifyMapEventLayer,o),D.logNotifyFired(t.mapId,h.NotifyMapEventLayer,a.type)};#u=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o={id:a.targetId,touch:R.buildTouchEventPayload(e)},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventLayer,n),D.logNotifyFired(t.mapId,h.NotifyMapEventLayer,a.type)};#c=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o={id:a.targetId,mouse:R.buildMouseEventPayload(e)},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventLayer,n),D.logNotifyFired(t.mapId,h.NotifyMapEventLayer,a.type)};#v=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o={id:a.targetId,wheel:R.buildWheelEventPayload(e)},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventLayer,n),D.logNotifyFired(t.mapId,h.NotifyMapEventLayer,a.type)}}!function(e){e.LayerAdded="layeradded",e.LayerRemoved="layerremoved",e.Click="click",e.ContextMenu="contextmenu",e.DblClick="dblclick",e.MouseDown="mousedown",e.MouseEnter="mouseenter",e.MouseLeave="mouseleave",e.MouseMove="mousemove",e.MouseOut="mouseout",e.MouseOver="mouseover",e.MouseUp="mouseup",e.TouchCancel="touchcancel",e.TouchEnd="touchend",e.TouchMove="touchmove",e.TouchStart="touchstart",e.Wheel="wheel"}(n||(n={}));class w{static add(e,t,a,o){const n=H.getMapReference(e);if(!n)return;const r=L.getSource(n,a);r&&(t??=[],t.forEach(e=>{this.#g(n,e,r,o)}))}static#g(e,t,n,s){if(n instanceof a.source.DataSource==0)return void k.logMessage(e.mapId,o.Error,`adding feature: source with ID '${n.getId()}' is not a DataSource`);if(s&&t.id){const e=n.getShapeById(t.id);e&&n.remove(e)}let i;switch(t.geometry.type.toLowerCase()){case r.Point:i=new a.data.Point(t.geometry.coordinates);break;case r.MultiPoint:i=new a.data.MultiPoint(t.geometry.coordinates,t.bbox);break;case r.LineString:i=new a.data.LineString(t.geometry.coordinates,t.bbox);break;case r.Polygon:i=new a.data.Polygon(t.geometry.coordinates,t.bbox)}if(!i)return void k.logMessage(e.mapId,o.Error,`adding feature error: geometry type '${t.geometry.type}' not supported`);const l={id:t.id,interopId:t.interopId},d={...t.properties,jsInterop:l};let p=new a.data.Feature(i,d,t.id);if(t.asShape){let e=new a.Shape(p);n.add(e)}else n.add(p)}static update(e,t,n){const r=H.getMapReference(e);if(!r)return;const s=L.getSource(r,n);s instanceof a.source.DataSource!=0?t.forEach(e=>{const t=s.getShapeById(e.id);t&&t.setCoordinates(e.geometry.coordinates)}):k.logMessage(r.mapId,o.Error,`updating features: source with ID '${s.getId()}' is not a DataSource`)}}!function(e){e.Point="point",e.MultiPoint="multipoint",e.LineString="linestring",e.MultiLineString="multilinestring",e.Polygon="polygon",e.MultiPolygon="multipolygon"}(r||(r={}));class O{static add(e,t,a,o){const n=H.getMapReference(e);n&&(t??=[],t.forEach(e=>{this.#y(n,e,a,o)}))}static#y(e,t,a,n){"DataSource"===t.type?this.#m(e,t,a,n):k.logMessage(e.mapId,o.Warn,`add: unsupported source type: ${t.type}`)}static#m(e,t,n,r){if(N.isEmptyOrNull(t.id))return void k.logMessage(e.mapId,o.Error,"addDataSource: missing ID.",t);if(e.map.sources.getById(t.id))return void k.logMessage(e.mapId,o.Warn,`addDataSource: source with ID '${t.id}' already exists.`);const s=new a.source.DataSource(t.id,t.options),i={id:t.id,interopId:t.interopId};s.jsInterop=i,n&&V.sources.add(e,n,s),e.map.sources.add(s),t.url&&s.importDataFromUrl(t.url),r&&w.add(e.mapId,r,t.id)}static remove(e,t){const a=H.getMapReference(e);if(!a)return;const o=[];t.forEach(e=>{o.push(e.id)}),this.#h(a,o)}static removeById(e,t){if(0==t.length)return;const a=H.getMapReference(e);a&&this.#h(a,t)}static#h(e,t){t.forEach(t=>{const a=e.map.sources.getById(t);a?(e.map.sources.remove(a),k.logMessage(e.mapId,o.Debug,`remove: source with ID '${t}' was removed.`)):k.logMessage(e.mapId,o.Warn,`remove: source with ID '${t}' was not found.`)})}static clear(e,t){const a=H.getMapReference(e);if(!a)return;const o=[];t.forEach(e=>{o.push(e.id)}),this.#f(a,o)}static clearById(e,t){const a=H.getMapReference(e);a&&this.#f(a,t)}static#f(e,t){t.forEach(t=>{const a=e.map.sources.getById(t);a?null!=a.clear?(a.clear(),k.logMessage(e.mapId,o.Debug,`clear: source with ID '${t}' was cleared.`)):k.logMessage(e.mapId,o.Warn,`clear: source with ID '${t}' does not support 'clear'.`):k.logMessage(e.mapId,o.Warn,`clear: source with ID '${t}' was not found.`)})}static getShapes(e,t){const n=H.getMapReference(e);if(!n)return;const r=L.getSource(n,t);return r&&(r instanceof a.source.DataSource?N.buildShapeResults(r.getShapes()):k.logMessage(e,o.Warn,`getShapes: source with ID '${t}' does not support 'getShapes'.`)),[]}}class L{static getSource(e,t){const a=e.map.sources.getById(t);return a||k.logMessage(e.mapId,o.Warn,`get: source with ID '${t}' was not found.`),a}static isDataSource(e){return e&&e instanceof a.source.DataSource}}class P{add(e,t,a){if(0==t.length)return;if(a&&!L.isDataSource(a))return void D.logMessage(e.mapId,o.Error,"SourceEvents: Unsupported source type for adding events.",a);const n=this.#s(t);0!=n.length&&this.#M(e,a,n)}remove(e,t,a){if(0==t.length)return;if(a&&!L.isDataSource(a))return void D.logMessage(e.mapId,o.Error,"SourceEvents: Unsupported source type for removing events.",a);const n=this.#s(t);0!=n.length&&this.#E(e,a,n)}#s(e){return Object.values(e).filter(e=>"datasource"===e.target&&N.isValueInEnum(s,e.type))}#M(e,t,a){if(0==a.length)return;const o=e.map,n="addDataSourceEvents";a.forEach(a=>{const r=t??this.#I(e,a);let s=!1;if(t&&(a.targetId=t.getId()),r){const t=this.#d(e,a,!1);t&&(a.once?o.events.addOnce(a.type,r,t):o.events.add(a.type,r,t),s=!0),D.logEventAdd(e.mapId,n,s,a)}else D.logInvalidTargetId(e.mapId,n,a)})}#E(e,t,a){if(0==a.length)return;const o=e.map,n="removeDataSourceEvents";a.forEach(a=>{const r=t??this.#I(e,a);let s=!1;if(t&&(a.targetId=t.getId()),r){const t=this.#d(e,a,!0);t&&(o.events.remove(a.type,r,t),s=!0),D.logEventRemoved(e.mapId,n,s,a)}else D.logInvalidTargetId(e.mapId,n,a)})}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=t.type.toLowerCase()===s.DataSourceUpdated?a=>this.#b(a,e,t):a=>this.#k(a,e,t),e.eventsMap.addCallback(t,o),o)}#I(e,t){const o=L.getSource(e,t.targetId);if(o instanceof a.source.DataSource)return o}#b=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,R.buildDataSourcePayload(e));t.dotNetRef.invokeMethodAsync(h.NotifyMapEventDataSource,o),D.logNotifyFired(t.mapId,h.NotifyMapEventDataSource,a.type)};#k=(e,t,a)=>{let o={shapes:N.buildShapeResults(e)},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventDataSource,n),D.logNotifyFired(t.mapId,h.NotifyMapEventDataSource,a.type,n)}}!function(e){e.DataSourceUpdated="datasourceupdated",e.DataAdded="dataadded",e.DataRemoved="dataremoved"}(s||(s={}));class A{add(e,t){0!=t.length&&this.#S(e,this.#s(t))}remove(e,t){0!=t.length&&this.#C(e,this.#s(t))}#s(e){return Object.values(e).filter(e=>"map"===e.target)}#S(e,t){0!=t.length&&(this.#N(e,t),this.#D(e,t),this.#R(e,t),this.#T(e,t),this.#w(e,t),this.#O(e,t),this.#L(e,t),this.#P(e,t),this.#A(e,t))}#C(e,t){0!=t.length&&(this.#j(e,t),this.#$(e,t),this.#W(e,t),this.#F(e,t),this.#B(e,t),this.#x(e,t),this.#G(e,t),this.#V(e,t),this.#H(e,t))}#N(e,t){if(0==t.length)return;const a="addMapEventConfig";Object.values(t).filter(e=>N.isValueInEnum(i,e.type)).forEach(t=>{let o=!1;const n=this.#U(e,t,!1);n&&(t.once?D.logOnceNotSupported(e.mapId,a,t):(e.map.events.add(t.type,n),o=!0)),D.logEventAdd(e.mapId,a,o,t)})}#j(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(i,e.type)).forEach(t=>{let a=!1;const o=this.#U(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventConfig",a,t)})}#U(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#z(a,e,t),e.eventsMap.addCallback(t,o),o)}#z=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,e);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventConfig,o),D.logNotifyFired(t.mapId,h.NotifyMapEventConfig,a.type)};#D(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(l,e.type)).forEach(t=>{let a=!1;const o=this.#J(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventData",a,t)})}#$(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(l,e.type)).forEach(t=>{let a=!1;const o=this.#J(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventData",a,t)})}#J(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#Z(a,e,t),e.eventsMap.addCallback(t,o),o)}#Z=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,this.#_(e));t.dotNetRef.invokeMethodAsync(h.NotifyMapEventData,o),D.logNotifyFired(t.mapId,h.NotifyMapEventData,a.type)};#_(e){return{dataType:e.dataType,isSourceLoaded:e.isSourceLoaded,source:e.source?.getId(),sourceDataType:e.sourceDataType,tile:e.tile}}#R(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(d,e.type)).forEach(t=>{let a=!1;const o=this.#q(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventGeneral",a,t)})}#W(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(d,e.type)).forEach(t=>{let a=!1;const o=this.#q(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventGeneral",a,t)})}#q(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>{this.#K(a,e,t)},e.eventsMap.addCallback(t,o),o)}#K=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a);t.dotNetRef.invokeMethodAsync(h.NotifyMapEvent,o),D.logNotifyFired(t.mapId,h.NotifyMapEvent,a.type)};#T(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(p,e.type)).forEach(t=>{let a=!1;const o=this.#Q(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventLayer",a,t)})}#F(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(p,e.type)).forEach(t=>{let a=!1;const o=this.#Q(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventLayer",a,t)})}#Q(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>{this.#p(a,e,t)},e.eventsMap.addCallback(t,o),o)}#p=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,R.buildLayerPayload(e));t.dotNetRef.invokeMethodAsync(h.NotifyMapEventGeneral,o),D.logNotifyFired(t.mapId,h.NotifyMapEventGeneral,a.type)};#w(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(f,e.type)).forEach(t=>{let a=!1,o=this.#X(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventMouse",a,t)})}#B(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(f,e.type)).forEach(t=>{let a=!1,o=this.#X(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventMouse",a,t)})}#X(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#Y(a,e,t),e.eventsMap.addCallback(t,o),o)}#Y=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o=R.buildMouseEventPayload(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventMouse,n),D.logNotifyFired(t.mapId,h.NotifyMapEventMouse,a.type)};#O(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(c,e.type)).forEach(t=>{let a=!1;const o=this.#ee(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventSource",a,t)})}#x(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(c,e.type)).forEach(t=>{let a=!1;const o=this.#ee(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventSource",a,t)})}#ee(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#te(a,e,t),e.eventsMap.addCallback(t,o),o)}#te(e,t,a){let o={id:e.getId(),jsInterop:N.getJsInterop(e)},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventSource,n),D.logNotifyFired(t.mapId,h.NotifyMapEventSource,a.type)}#L(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(u,e.type)).forEach(t=>{let a=!1;const o=this.#ae(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventStyle",a,t)})}#G(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(u,e.type)).forEach(t=>{let a=!1;const o=this.#ae(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventStyle",a,t)})}#ae(e,t,a){let o=e.eventsMap.getCallback(t,a);if(o)return o;switch(t.type.toLowerCase()){case u.StyleChanged:o=a=>this.#oe(a.style,e,t);break;case u.StyleImageMissing:o=a=>this.#oe(a,e,t)}return e.eventsMap.addCallback(t,o),o}#oe(e,t,a){let o={style:e},n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventStyle,n),D.logNotifyFired(t.mapId,h.NotifyMapEventStyle,a.type)}#P(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(M,e.type)).forEach(t=>{let a=!1;const o=this.#ne(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventTouch",a,t)})}#V(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(M,e.type)).forEach(t=>{let a=!1;const o=this.#ne(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventTouch",a,t)})}#ne(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#re(a,e,t),e.eventsMap.addCallback(t,o),o)}#re=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o=R.buildTouchEventPayload(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventTouch,n),D.logNotifyFired(t.mapId,h.NotifyMapEventTouch,a.type)};#A(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(E,e.type)).forEach(t=>{let a=!1,o=this.#se(e,t,!1);o&&(t.once?e.map.events.addOnce(t.type,o):e.map.events.add(t.type,o),a=!0),D.logEventAdd(e.mapId,"addMapEventWheel",a,t)})}#H(e,t){0!=t.length&&Object.values(t).filter(e=>N.isValueInEnum(E,e.type)).forEach(t=>{let a=!1,o=this.#se(e,t,!0);o&&(e.map.events.remove(t.type,o),a=!0),D.logEventRemoved(e.mapId,"removeMapEventWheel",a,t)})}#se(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#ie(a,e,t),e.eventsMap.addCallback(t,o),o)}#ie=(e,t,a)=>{a.preventDefault&&e.preventDefault();let o=R.buildWheelEventPayload(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventWheel,n),D.logNotifyFired(t.mapId,h.NotifyMapEventWheel,a.type)}}!function(e){e.MapConfigChanged="mapconfigurationchanged"}(i||(i={})),function(e){e.Data="data",e.SourceData="sourcedata",e.StyleData="styledata"}(l||(l={})),function(e){e.BoxZoomEnd="boxzoomend",e.BoxZoomStart="boxzoomstart",e.Drag="drag",e.DragEnd="dragend",e.DragStart="dragstart",e.Idle="idle",e.Load="load",e.Move="move",e.MoveEnd="moveend",e.MoveStart="movestart",e.Pitch="pitch",e.PitchEnd="pitchend",e.PitchStart="pitchstart",e.Render="render",e.Resize="resize",e.Rotate="rotate",e.RotateEnd="rotateend",e.RotateStart="rotatestart",e.TokenAcquired="tokenacquired",e.Zoom="zoom",e.ZoomEnd="zoomend",e.ZoomStart="zoomstart"}(d||(d={})),function(e){e.LayerAdded="layeradded",e.LayerRemoved="layerremoved"}(p||(p={})),function(e){e.SourceAdded="sourceadded",e.SourceRemoved="sourceremoved"}(c||(c={})),function(e){e.StyleChanged="stylechanged",e.StyleImageMissing="styleimagemissing"}(u||(u={}));class j{static add(e,t){const o=H.getMapReference(e);o&&(t??=[],t.forEach(e=>{let t={...e.options};t.popup&&(t.popup=new a.Popup(t.popup.options));let n=new a.HtmlMarker(t);const r={id:e.id,interopId:e.interopId};n.jsInterop=r,o.map.markers.add(n),e.togglePopupOnClick&&o.map.events.add("click",n,()=>{n.togglePopup()})}))}static remove(e,t){const a=H.getMapReference(e);a&&t.forEach(e=>{let t=this.#le(a,e.interopId);t&&a.map.markers.remove(t)})}static getMarker(e,t){const a=H.getMapReference(e);if(a)return this.#le(a,t)}static#le(e,t){const a=e.map.markers.getMarkers().findLast(e=>this.#de(e,t));return a||k.logMessage(e.mapId,o.Debug,`getMarker: marker not found where id = '${t}'`),a}static#de(e,t){let a=e&&null!=e.jsInterop&&null!=e.jsInterop.interopId;return a&&N.isNotEmptyOrNull(t)&&(a=e.jsInterop.id===t||e.jsInterop.interopId===t),a}}class ${add(e,t){0!=t.length&&this.#pe(e,this.#s(t))}remove(e,t){0!=t.length&&this.#ce(e,this.#s(t))}#s(e){return Object.values(e).filter(e=>"htmlmarker"===e.target&&N.isValueInEnum(v,e.type))}#pe(e,t){if(0==t.length)return;const a="addHtmlMarkerEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!1);r&&(t.once?e.map.events.addOnce(t.type,o,r):e.map.events.add(t.type,o,r),n=!0),D.logEventAdd(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#ce(e,t){if(0==t.length)return;const a="removeHtmlMarkerEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!0);r&&(e.map.events.remove(t.type,o,r),n=!0),D.logEventRemoved(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#ue(a,e,t),e.eventsMap.addCallback(t,o),o)}#l(e,t){return j.getMarker(e.mapId,t.targetId)}#ue=(e,t,a)=>{let o=R.buildTargetedEventPayload(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventHtmlMarker,n),D.logNotifyFired(t.mapId,h.NotifyMapEventHtmlMarker,a.type)}}!function(e){e.Click="click",e.ContextMenu="contextmenu",e.DblClick="dblclick",e.MouseDown="mousedown",e.MouseEnter="mouseenter",e.MouseLeave="mouseleave",e.MouseMove="mousemove",e.MouseOut="mouseout",e.MouseOver="mouseover",e.MouseUp="mouseup",e.Drag="drag",e.DragEnd="dragend",e.DragStart="dragstart",e.KeyDown="keydown",e.KeyPress="keypress",e.KeyUp="keyup"}(v||(v={}));class W{static add(e,t){const o=H.getMapReference(e);o&&(t??=[],t.forEach(e=>{let t=new a.Popup(e.options);const n={id:e.id,interopId:e.interopId};t.jsInterop=n,o.map.popups.add(t)}))}static remove(e,t){const a=H.getMapReference(e);a&&t.forEach(e=>{let t=this.#ve(a,e.interopId);t&&a.map.popups.remove(t)})}static getPopup(e,t){return this.#ve(e,t)}static#ve(e,t){const a=e.map.popups.getPopups().findLast(e=>this.#ge(e,t));return a||k.logMessage(e.mapId,o.Debug,`getPopup: popup not found where id = '${t}'`),a}static#ge(e,t){let a=e&&null!=e.jsInterop&&null!=e.jsInterop.interopId;return a&&N.isNotEmptyOrNull(t)&&(a=e.jsInterop.id===t||e.jsInterop.interopId===t),a}}class F{add(e,t){0!=t.length&&this.#ye(e,this.#s(t))}remove(e,t){0!=t.length&&this.#me(e,this.#s(t))}#s(e){return Object.values(e).filter(e=>"popup"===e.target&&N.isValueInEnum(g,e.type))}#ye(e,t){if(0==t.length)return;const a="addPopupEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!1);r&&(t.once?e.map.events.addOnce(t.type,o,r):e.map.events.add(t.type,o,r),n=!0),D.logEventAdd(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#me(e,t){if(0==t.length)return;const a="removePopupEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!0);r&&(e.map.events.remove(t.type,o,r),n=!0),D.logEventRemoved(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#he(a,e,t),e.eventsMap.addCallback(t,o),o)}#l(e,t){return W.getPopup(e,t.targetId)}#he=(e,t,a)=>{let o=R.buildTargetedEventPayload(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventPopup,n),D.logNotifyFired(t.mapId,h.NotifyMapEventPopup,a.type)}}!function(e){e.Drag="drag",e.DragEnd="dragend",e.DragStart="dragstart",e.Open="open",e.Close="close"}(g||(g={}));class B{add(e,t){0!=t.length&&this.#fe(e,this.#s(t))}remove(e,t){0!=t.length&&this.#Me(e,this.#s(t))}#s(e){return Object.values(e).filter(e=>"shape"===e.target&&N.isValueInEnum(y,e.type))}#fe(e,t){if(0==t.length)return;const a="addShapeEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!1);r&&(t.once?e.map.events.addOnce(t.type,o,r):e.map.events.add(t.type,o,r),n=!0),D.logEventAdd(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#Me(e,t){if(0==t.length)return;const a="removeShapeEvents";t.forEach(t=>{const o=this.#l(e,t);let n=!1;if(o){const r=this.#d(e,t,!0);r&&(e.map.events.remove(t.type,o,r),n=!0),D.logEventRemoved(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#Ee(a,e,t),e.eventsMap.addCallback(t,o),o)}#l(e,t){const a=L.getSource(e,t.targetSourceId);if(L.isDataSource(a))return a.getShapeById(t.targetId)}#Ee=(e,t,a)=>{let o=N.getShapeResult(e),n=R.buildEventResult(t.mapId,a,o);t.dotNetRef.invokeMethodAsync(h.NotifyMapEventShape,n),D.logNotifyFired(t.mapId,h.NotifyMapEventShape,a.type)}}!function(e){e.ShapeChanged="shapechanged"}(y||(y={}));class x{static add(e,t){const n=H.getMap(e);n&&(t??=[],t.forEach(t=>{let r=null;switch(t.type.toLowerCase()){case"compass":r=new a.control.CompassControl(t.options);break;case"fullscreen":r=new a.control.FullscreenControl(t.options);break;case"pitch":r=new a.control.PitchControl(t.options);break;case"scale":r=new a.control.ScaleControl(t.options);break;case"style":r=new a.control.StyleControl(t.options);break;case"traffic":r=new a.control.TrafficControl(t.options);break;case"trafficlegend":r=new a.control.TrafficLegendControl;break;case"zoom":r=new a.control.ZoomControl(t.options);break;default:k.logMessage(e,o.Warn,`addControls: control type '${t.type}' is not supported.`)}if(r){const e={id:t.id,interopId:t.interopId,type:t.type};r.jsInterop=e,n.controls.add(r,t.controlOptions)}}))}static remove(e,t){const a=H.getMap(e);if(!a)return;const o=a.controls.getControls();t.forEach(t=>{let n=this.#Ie(o,e,t.interopId);n&&a.controls.remove(n)})}static getControl(e,t){const a=H.getMap(e);if(!a)return;const o=a.controls.getControls();return this.#Ie(o,e,t)}static#Ie(e,t,a){const n=e.findLast(e=>N.isInteropControl(e,a));return n||k.logMessage(t,o.Debug,`getControl: control not found where id = '${a}'`),n}static getControls(e){const t=H.getMap(e);if(!t)return;const a=t.controls.getControls(),o=[];return a.filter(e=>N.isInteropControl(e)).forEach(e=>{const t=e.jsInterop;t&&o.push(t)}),o}}class G{add(e,t){0!=t.length&&this.#be(e,this.#s(t))}remove(e,t){0!=t.length&&this.#ke(e,this.#s(t))}#s(e){return Object.values(e).filter(e=>"stylecontrol"===e.target&&N.isValueInEnum(m,e.type))}#be(e,t){if(0==t.length)return;const a="addStyleControlEvents";t.forEach(t=>{const o=x.getControl(e.mapId,t.targetId);if(o instanceof b().control.StyleControl){let n=!1;const r=this.#d(e,t,!1);r&&(t.once?e.map.events.addOnce(t.type,o,r):e.map.events.add(t.type,o,r),n=!0),D.logEventAdd(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#ke(e,t){if(0==t.length)return;const a="removeStyleControlEvents";t.forEach(t=>{const o=x.getControl(e.mapId,t.targetId);if(o instanceof b().control.StyleControl){let n=!1;const r=this.#d(e,t,!0);r&&(e.map.events.remove(t.type,o,r),n=!0),D.logEventRemoved(e.mapId,a,n,t)}else D.logInvalidTargetId(e.mapId,a,t)})}#d(e,t,a){let o=e.eventsMap.getCallback(t,a);return o||(o=a=>this.#Se(a,e,t),e.eventsMap.addCallback(t,o),o)}#Se=(e,t,a)=>{let o=R.buildEventResult(t.mapId,a,{style:e});t.dotNetRef.invokeMethodAsync(h.NotifyMapEventStyle,o),D.logNotifyFired(t.mapId,h.NotifyMapEventStyle,a.type)}}!function(e){e.StyleSelected="styleselected"}(m||(m={}));class V{static layers=new T;static maps=new A;static markers=new $;static popups=new F;static shapes=new B;static sources=new P;static styleControls=new G;static add(e,t){const a=H.getMapReference(e);a&&(t??=[],this.layers.add(a,t),this.maps.add(a,t),this.markers.add(a,t),this.popups.add(a,t),this.shapes.add(a,t),this.sources.add(a,t),this.styleControls.add(a,t))}static remove(e,t){const a=H.getMapReference(e);a&&(this.layers.remove(a,t),this.maps.remove(a,t),this.markers.remove(a,t),this.popups.remove(a,t),this.shapes.remove(a,t),this.sources.remove(a,t),this.styleControls.remove(a,t))}}!function(e){e.MapError="NotifyMapEventError",e.MapReady="NotifyMapReady",e.NotifyMapEvent="NotifyMapEvent",e.NotifyMapEventConfig="NotifyMapEventConfig",e.NotifyMapEventData="NotifyMapEventData",e.NotifyMapEventDataSource="NotifyMapEventDataSource",e.NotifyMapEventGeneral="NotifyMapEventGeneral",e.NotifyMapEventHtmlMarker="NotifyMapEventHtmlMarker",e.NotifyMapEventLayer="NotifyMapEventLayer",e.NotifyMapEventMouse="NotifyMapEventMouse",e.NotifyMapEventPopup="NotifyMapEventPopup",e.NotifyMapEventShape="NotifyMapEventShape",e.NotifyMapEventSource="NotifyMapEventSource",e.NotifyMapEventStyle="NotifyMapEventStyle",e.NotifyMapEventTouch="NotifyMapEventTouch",e.NotifyMapEventWheel="NotifyMapEventWheel"}(h||(h={})),function(e){e.Click="click",e.ContextMenu="contextmenu",e.DblClick="dblclick",e.MouseDown="mousedown",e.MouseMove="mousemove",e.MouseOut="mouseout",e.MouseOver="mouseover",e.MouseUp="mouseup"}(f||(f={})),function(e){e.TouchCancel="touchcancel",e.TouchEnd="touchend",e.TouchMove="touchmove",e.TouchStart="touchstart"}(M||(M={})),function(e){e.Wheel="wheel"}(E||(E={}));class H{static#Ce=new Map;static getAuthTokenCallback;static createMap(e,t,n,r,s){if(k.currentLevel=n.logLevel??o.Information,this.#Ce.has(t))return void k.logMessage(t,o.Warn,"Map already exists.");const i=this.#Ne(t,n.authOptions,n.options),l=new a.Map(t,i),d=new C(e,t,l);this.#Ce.set(t,d),k.logMessage(t,o.Debug,"was created."),x.add(t,s),this.#be(d,r)}static getMap(e){const t=this.getMapReference(e);return t?.map}static getMapReference(e){const t=this.#Ce.get(e);return t||k.logMessage(e,o.Debug,"MapManager was not found."),t}static removeMap(e){const t=this.#Ce.get(e);t&&this.#Ce.delete(e)&&(t.clear(),k.logMessage(e,o.Debug,"was removed"))}static#Ne(e,t,a){let n={};a&&(a.camera?n={...n,...a.camera}:a.cameraBounds&&(n={...n,...a.cameraBounds}),a.service&&(n={...n,...a.service}),a.style&&(n={...n,...a.style}),a.userInteraction&&(n={...n,...a.userInteraction})),n.authOptions=t;const r=t.sasTokenUrl;return N.isNotEmptyOrNull(r)?(k.logMessage(e,o.Trace,"buildMapOptions with SasTokenUrl:",r),n.authOptions.getToken=function(e,t,a){fetch(r).then(e=>e.text()).then(t=>e(t))}):n.authOptions.getToken=this.getAuthTokenCallback,n}static#be(e,t){const a=e.dotNetRef,n=e.mapId,r=e.map;r?(t??=[],r.events.addOnce(I.Ready,e=>{const s={target:"map",type:I.Error},i={target:"map",type:I.Ready};r.events.add(I.Error,e=>{const t={message:e.error.message,name:e.error.name,stack:e.error.stack,cause:e.error.cause};let r=R.buildEventResult(n,s,t);k.logMessage(n,o.Error,"Map error",r),a.invokeMethodAsync(h.MapError,r)}),V.add(n,t);let l=R.buildEventResult(n,i);a.invokeMethodAsync(h.MapReady,l)})):k.logMessage(n,o.Error,"Cannot build events. Map not found.")}}!function(e){e.Error="error",e.Ready="ready"}(I||(I={}));class U{static add(e,t,a){const o=H.getMapReference(e);o&&(t??=[],t.forEach(e=>{this.#De(o,e,a)}))}static#De(e,t,n){const r="addLayer";if(N.isEmptyOrNull(t.type))return void k.logMessage(e.mapId,o.Error,`${r}: layer type is missing`,t);const s=t.id;if(N.isEmptyOrNull(s))return void k.logMessage(e.mapId,o.Error,`${r}: layer Id is missing`,t);if(e.map.layers.getLayerById(s))return void k.logMessage(e.mapId,o.Error,`${r}: layer already exists where layer ID=${s}`,t);let i,l,d=t.dataSource;d&&N.isNotEmptyOrNull(d.id)&&(i=L.getSource(e,d.id),i||(O.add(e.mapId,[d],n),i=L.getSource(e,d.id)));const p=t.options||{};switch(t.type){case"Bubble":l=new a.layer.BubbleLayer(i,s,p);break;case"HeatMap":l=new a.layer.HeatMapLayer(i,s,p);break;case"Image":l=new a.layer.ImageLayer(p,s);break;case"Line":l=new a.layer.LineLayer(i,s,p);break;case"Polygon":l=new a.layer.PolygonLayer(i,s,p);break;case"PolygonExtrusion":l=new a.layer.PolygonExtrusionLayer(i,s,p);break;case"Symbol":l=new a.layer.SymbolLayer(i,s,p);break;case"Tile":l=new a.layer.TileLayer(p,s)}let c=!1;if(l){const a={id:t.id,interopId:t.interopId};l.jsInterop=a,n&&V.layers.add(e,n,l),e.map.layers.add(l,t.before),c=!0}c?k.logMessage(e.mapId,o.Trace,`${r}: layer added:`,l):k.logMessage(e.mapId,o.Error,`${r}: layer type '${t.type}' is not supported.`,t)}static remove(e,t){let a=[];t.forEach(e=>{a.push(e.id)}),this.removeById(e,a),a=[],t.forEach(e=>{e.dataSource&&N.isNotEmptyOrNull(e.dataSource.id)&&a.push(e.dataSource.id)}),O.removeById(e,a)}static removeById(e,t){const a=H.getMapReference(e);if(!a)return;const n="removeLayer";t.forEach(t=>{const r=a.map.layers.getLayerById(t);r?(a.map.layers.remove(r),k.logMessage(e,o.Debug,`${n}: layer with id '${t}' was removed.`)):k.logMessage(e,o.Warn,`${n}: layer with id '${t}' was not found.`)})}}class z{static getCamera(e){const t=H.getMap(e);if(t)return t.getCamera()}static setCamera(e,t){const a=H.getMap(e);if(!a)return;let o=this.#Re(t);a.setCamera(o)}static#Re(e){let t={};return e.camera?t={...e.camera,...e.animation}:e.cameraBounds&&(t={...e.cameraBounds,...e.animation}),t}static getMapOptions(e){const t=H.getMap(e);if(t)return{mapCamera:t.getCamera(),service:t.getServiceOptions(),style:t.getStyle(),userInteraction:t.getUserInteraction()}}static setMapOptions(e,t){const a=H.getMap(e);if(!a)return;let o=this.#Re(t.camera);a.setCamera(o),t.service&&a.setServiceOptions(t.service),t.style&&a.setStyle(t.style),t.userInteraction&&a.setUserInteraction(t.userInteraction)}static getServiceOptions(e){const t=H.getMap(e);if(t)return t.getServiceOptions()}static setServiceOptions(e,t){const a=H.getMap(e);a&&a.setServiceOptions(t)}static getTraffic(e){const t=H.getMap(e);if(t)return t.getTraffic()}static setTraffic(e,t){const a=H.getMap(e);a&&a.setTraffic(t)}static getStyle(e){const t=H.getMap(e);if(t)return t.getStyle()}static setStyle(e,t){const a=H.getMap(e);a&&a.setStyle(t)}static getUserInteraction(e){const t=H.getMap(e);if(t)return t.getUserInteraction()}static setUserInteraction(e,t){const a=H.getMap(e);a&&a.setUserInteraction(t)}}class J{static async getLocation(e){console.debug("Geolocation.getLocation:",e);var t={position:null,error:null},a=new Promise((t,a)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t,a,this.#Te(e)):a({code:0,message:"This device does not support geolocation."})});return await a.then(e=>{t.position=e}).catch(e=>{console.debug("Geolocation Error:",e),t.error={code:e.code,message:e.message},console.debug("Geolocation Error Result:",t)}),t}static#Te(e){if(e){const t={};return e.enableHighAccuracy&&(t.enableHighAccuracy=e.enableHighAccuracy),e.maximumAge&&(t.maximumAge=e.maximumAge),e.timeout&&(t.timeout=e.timeout),t}}}marqdoujAzureMaps=t})();